<!-- 티스토리 HTML 모드 포스트 -->
<div class="post-content">
    <div class="post-header">
    <h1 class="post-title">[운영체제/OS] 3. 스레드(Threads)</h1>
    <div class="post-meta"><span class="post-date">2025년 3월 25일</span> <span class="post-category">카테고리: <a href="#">OS</a></span> <span class="post-tags">태그: <a href="#">운영체제</a>, <a href="#">OS</a>, <a href="#">Computer Science</a>, <a href="#">Thread</a>, <a href="#">Process</a></span></div>
    </div>
    <div class="post-summary">
    <p data-ke-size="size16">이 글에서는 운영체제의 스레드(Thread) 개념, 프로세스와의 차이점, 스레드의 이점, 그리고 다양한 스레드 구현 방식에 대해 살펴봅니다.</p>
    </div>
    <!-- 목차 -->
    <div class="toc">
    <h2 data-ke-size="size26">목차</h2>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li><a href="#1">1. 프로세스 모델의 한계</a>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li><a href="#1.1">1.1 협력 프로세스의 한계</a></li>
    <li><a href="#1.2">1.2 멀티프로세싱의 한계</a></li>
    </ul>
    </li>
    <li><a href="#2">2. 스레드 모델</a>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li><a href="#2.1">2.1 프로세스 vs 스레드</a></li>
    <li><a href="#2.2">2.2 프로세스 관점의 변화</a></li>
    </ul>
    </li>
    <li><a href="#3">3. 프로세스와 스레드 비교</a>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li><a href="#3.1">3.1 주소 공간</a></li>
    <li><a href="#3.2">3.2 논리적 관점</a></li>
    <li><a href="#3.3">3.3 유사점과 차이점</a></li>
    </ul>
    </li>
    <li><a href="#4">4. 스레드의 이점</a>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li><a href="#4.1">4.1 경제성</a></li>
    <li><a href="#4.2">4.2 향상된 통신</a></li>
    <li><a href="#4.3">4.3 멀티프로세서 활용</a></li>
    </ul>
    </li>
    <li><a href="#5">5. 스레드 구현</a>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li><a href="#5.1">5.1 사용자 수준 스레드</a></li>
    <li><a href="#5.2">5.2 커널 수준 스레드</a></li>
    <li><a href="#5.3">5.3 다대다 모델</a></li>
    </ul>
    </li>
    <li><a href="#6">6. Linux의 스레드 지원</a>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li><a href="#6.1">6.1 Linux 스레드 특징</a></li>
    <li><a href="#6.2">6.2 POSIX 스레드</a></li>
    </ul>
    </li>
    </ul>
    </div>
    <!-- 본문 시작 -->
    <div class="post-body">
    <h2 id="1" data-ke-size="size26">1. 프로세스 모델의 한계</h2>
    <div class="interview-tip">
    <p data-ke-size="size16"><b>면접 대비</b>: 프로세스와 스레드의 차이점, 스레드의 필요성은 기술 면접의 단골 질문입니다.</p>
    </div>
    <h3 id="1.1" data-ke-size="size23">1.1 협력 프로세스의 한계</h3>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>웹 서버와 같은 애플리케이션에서 동시 작업 처리를 위해 자신의 복사본 생성</li>
    <li>주소 공간과 자원을 공유하는 경우 프로세스 모델은 매우 비효율적</li>
    </ul>
    <h3 id="1.2" data-ke-size="size23">1.2 멀티프로세싱의 한계</h3>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>전통적인 프로세스는 한 번에 하나의 프로세서만 사용 가능</li>
    <li>프로세스 내 자동 병렬화 불가능</li>
    <li>명시적인 프로세스 생성과 분배 필요</li>
    </ul>
    <h2 id="2" data-ke-size="size26">2. 스레드 모델</h2>
    <h3 id="2.1" data-ke-size="size23">2.1 프로세스 vs 스레드</h3>
    <ol style="list-style-type: decimal;" data-ke-list-type="decimal">
    <li><b>프로세스</b>: 무거운(heavy-weight) 단위
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>&nbsp; 이미지와 문맥(프로그램, 커널) 포함</li>
    <li>&nbsp; 생성 비용이 높음</li>
    <li>&nbsp; IPC 비용이 높음</li>
    </ul>
    </li>
    <li><b>스레드</b>: 가벼운(light-weight) 단위
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>&nbsp; 프로그램 카운터(PC)</li>
    <li>&nbsp; 지역 변수와 리턴 레지스터를 위한 스택</li>
    <li>&nbsp; 프로세스의 명령어와 데이터 대부분 공유</li>
    <li>&nbsp; OS 상태 대부분 공유</li>
    </ul>
    </li>
    </ol>
    <h3 id="2.2" data-ke-size="size23">2.2 프로세스 관점의 변화</h3>
    <ol style="list-style-type: decimal;" data-ke-list-type="decimal">
    <li><b>전통적 관점</b>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>&nbsp; 프로세스 = 프로세스 문맥 + (코드, 데이터, 스택)</li>
    </ul>
    </li>
    <li><b>현대적 관점</b>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>&nbsp; 프로세스 = 스레드 + (코드, 데이터) + 커널 문맥</li>
    </ul>
    </li>
    </ol>
    <div class="image-container"><img class="post-image" src="https://blog.kakaocdn.net/dn/lBebs/btsNjOYJdnG/RQM0s6wsWZtsvokJ27RnXk/img.png" alt="프로세스와 스레드의 구조 비교" />
    <p class="image-caption" data-ke-size="size16">프로세스와 스레드의 구조 비교</p>
    </div>
    <h2 id="3" data-ke-size="size26">3. 프로세스와 스레드 비교</h2>
    <div class="interview-tip">
    <p data-ke-size="size16"><b>면접 대비</b>: 프로세스와 스레드의 주소 공간 공유 특성과 관계는 반드시 알아야 할 내용입니다.</p>
    </div>
    <h3 id="3.1" data-ke-size="size23">3.1 주소 공간</h3>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li><b>프로세스</b>: 독립적인 주소 공간</li>
    <li><b>스레드</b>: 같은 프로세스 내 주소 공간 공유</li>
    </ul>
    <h3 id="3.2" data-ke-size="size23">3.2 논리적 관점</h3>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li><b>프로세스</b>: 트리 계층 구조</li>
    <li><b>스레드</b>: 동등한 관계의 풀(pool) 형성</li>
    </ul>
    <h3 id="3.3" data-ke-size="size23">3.3 유사점과 차이점</h3>
    <ol style="list-style-type: decimal;" data-ke-list-type="decimal">
    <li><b>유사점</b>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>&nbsp; 독립적인 제어 흐름</li>
    <li>&nbsp; 개별적 스케줄링 가능</li>
    </ul>
    </li>
    <li><b>차이점</b>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>&nbsp; 코드와 데이터 공유 여부</li>
    <li>&nbsp; 생성, 전환, 종료 비용</li>
    </ul>
    </li>
    </ol>
    <h2 id="4" data-ke-size="size26">4. 스레드의 이점</h2>
    <h3 id="4.1" data-ke-size="size23">4.1 경제성</h3>
    <ol style="list-style-type: decimal;" data-ke-list-type="decimal">
    <li><b>생성 비용</b>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>&nbsp; 생성이 저렴함</li>
    <li>&nbsp; 문맥 전환이 빠름</li>
    <li>&nbsp; 예: Solaris
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>&nbsp; 스레드 생성은 프로세스 생성보다 30배 빠름</li>
    <li>&nbsp; 스레드 전환은 프로세스 전환보다 5배 빠름</li>
    </ul>
    </li>
    </ul>
    </li>
    </ol>
    <h3 id="4.2" data-ke-size="size23">4.2 향상된 통신</h3>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>메모리와 파일 공유로 인한 효율적 통신</li>
    <li>커널 호출 없이 통신 가능</li>
    <li>응답성 향상</li>
    </ul>
    <h3 id="4.3" data-ke-size="size23">4.3 멀티프로세서 활용</h3>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>각 스레드가 다른 프로세서에서 병렬 실행 가능</li>
    </ul>
    <div class="image-container"><img class="post-image" src="https://blog.kakaocdn.net/dn/mVOxZ/btsNiMATTF0/T2dpjLrGnCDzfaerckn0Qk/img.png" alt="멀티프로세서에서의 스레드 실행" />
    <p class="image-caption" data-ke-size="size16">멀티프로세서에서의 스레드 실행</p>
    </div>
    <h2 id="5" data-ke-size="size26">5. 스레드 구현</h2>
    <div class="interview-tip">
    <p data-ke-size="size16"><b>면접 대비</b>: 사용자 수준 스레드와 커널 수준 스레드의 차이점은 면접에서 자주 다루어지는 주제입니다.</p>
    </div>
    <h3 id="5.1" data-ke-size="size23">5.1 사용자 수준 스레드</h3>
    <ol style="list-style-type: decimal;" data-ke-list-type="decimal">
    <li><b>특징</b>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>&nbsp; 사용자 수준 라이브러리가 관리</li>
    <li>&nbsp; 커널은 스레드 존재를 모름</li>
    <li>&nbsp; "many-to-one" 모델</li>
    </ul>
    </li>
    <li><b>장점</b>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>&nbsp; 매우 가벼움</li>
    <li>&nbsp; 생성, 스케줄링, 동기화가 100% 사용자 공간에서 수행</li>
    </ul>
    </li>
    <li><b>단점</b>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>&nbsp; I/O 스레드가 프로세스 전체를 블록</li>
    <li>&nbsp; 멀티프로세서에서 성능 향상 없음</li>
    </ul>
    </li>
    </ol>
    <h3 id="5.2" data-ke-size="size23">5.2 커널 수준 스레드</h3>
    <ol style="list-style-type: decimal;" data-ke-list-type="decimal">
    <li><b>특징</b>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>&nbsp; 커널이 직접 지원</li>
    <li>&nbsp; "one-to-one" 모델</li>
    <li>&nbsp; Windows, Linux 등에서 사용</li>
    </ul>
    </li>
    <li><b>장점</b>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>&nbsp; 여러 CPU에서 동시 실행 가능</li>
    <li>&nbsp; 한 스레드가 블록되어도 다른 스레드 실행 가능</li>
    </ul>
    </li>
    <li><b>단점</b>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>&nbsp; 시스템 콜 필요로 인한 오버헤드</li>
    </ul>
    </li>
    </ol>
    <h3 id="5.3" data-ke-size="size23">5.3 다대다 모델 (Many-to-Many)</h3>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>여러 사용자 수준 스레드를 여러 커널 스레드에 매핑</li>
    <li>Solaris 2, HP-UX, Irix 등에서 사용</li>
    </ul>
    <div class="image-container"><img class="post-image" src="https://blog.kakaocdn.net/dn/elaYcJ/btsNghuxNEg/1fl3A969MAnokmQNFeEzq0/img.png" alt="스레드 구현 모델" />
    <p class="image-caption" data-ke-size="size16">스레드 구현 모델</p>
    </div>
    <h2 id="6" data-ke-size="size26">6. Linux의 스레드 지원</h2>
    <h3 id="6.1" data-ke-size="size23">6.1 Linux 스레드 특징</h3>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>clone() 시스템 콜을 통한 경량 프로세스 구현</li>
    <li>프로세스와 스레드를 구분하지 않음</li>
    <li>task라는 용어 사용</li>
    </ul>
    <h3 id="6.2" data-ke-size="size23">6.2 POSIX 스레드 (Pthreads)</h3>
    <ol style="list-style-type: decimal;" data-ke-list-type="decimal">
    <li><b>NPTL (Native POSIX Threading Library)</b>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>&nbsp; RedHat 개발</li>
    <li>&nbsp; One-to-One 모델</li>
    <li>&nbsp; clone() 시스템 콜 사용</li>
    <li>&nbsp; glibc 2.3.2 이후 버전에서 사용</li>
    </ul>
    </li>
    </ol>
    </div>
    <div class="reference">
    <h2 data-ke-size="size26">참고 자료</h2>
    <ul style="list-style-type: disc;" data-ke-list-type="disc">
    <li>Programming with POSIX Threads (D. Butenhof)</li>
    <li>Advanced Programming in the UNIX Environment (3rd edition)</li>
    <li>man pthreads</li>
    </ul>
    </div>
    <div class="post-footer">
    <div class="post-navigation">
    <div class="prev-post"><a href="#">이전 글: 프로세스 생성과 IPC</a></div>
    <div class="next-post"><a href="#">다음 글: CPU 스케줄링</a></div>
    </div>
    <div class="post-share"><span>공유하기:</span> <a class="share-link" href="#">페이스북</a> <a class="share-link" href="#">트위터</a> <a class="share-link" href="#">카카오톡</a></div>
    </div>
    </div>
    <div>
    <style>
    /* 티스토리 스타일링 */
    .post-content {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        line-height: 1.6;
        font-family: 'Noto Sans KR', sans-serif;
        color: #333;
    }
    
    .post-header {
        margin-bottom: 30px;
        border-bottom: 1px solid #eee;
        padding-bottom: 20px;
    }
    
    .post-title {
        font-size: 2.2em;
        color: #222;
        margin-bottom: 15px;
        line-height: 1.3;
    }
    
    .post-meta {
        color: #666;
        font-size: 0.9em;
        margin-bottom: 15px;
    }
    
    .post-meta span {
        margin-right: 15px;
    }
    
    .post-meta a {
        color: #007bff;
        text-decoration: none;
    }
    
    .post-meta a:hover {
        text-decoration: underline;
    }
    
    .post-summary {
        background-color: #f8f9fa;
        padding: 15px;
        border-left: 4px solid #007bff;
        margin-bottom: 30px;
        font-style: italic;
    }
    
    .toc {
        background: #ffffff;
        padding: 25px;
        border-radius: 8px;
        margin-bottom: 30px;
        border: 1px solid #e9ecef;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        position: relative;
        overflow: hidden;
    }
    
    .toc::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 5px;
        height: 100%;
        background: linear-gradient(to bottom, #007bff, #00c6ff);
    }
    
    .toc h2 {
        margin-top: 0;
        font-size: 1.5em;
        color: #333;
        border-bottom: none;
        padding-bottom: 0;
        margin-bottom: 15px;
        position: relative;
        display: inline-block;
    }
    
    .toc h2::after {
        content: "";
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 100%;
        height: 2px;
        background: linear-gradient(to right, #007bff, transparent);
    }
    
    .toc ul[style*="list-style-type: disc"] {
        list-style-type: none !important;
    }
    
    .toc ul {
        list-style-type: none !important;
        padding-left: 0;
        margin: 0;
    }
      
    .toc li {
        list-style-type: none !important;
        padding-left: 0;
        position: relative;
    }
    
    .toc > ul > li {
        margin-bottom: 10px;
        position: relative;
    }
    
    .toc > ul > li:last-child {
        margin-bottom: 0;
    }
    
    .toc a {
        color: #333;
        text-decoration: none;
        display: block;
        padding: 8px 12px;
        border-radius: 4px;
        transition: all 0.2s ease;
        position: relative;
        padding-left: 25px;
    }
    
    .toc a::before {
        content: "•";
        position: absolute;
        left: 8px;
        color: #007bff;
        font-weight: bold;
    }
    
    .toc a:hover {
        color: #007bff;
        background-color: #f8f9fa;
        transform: translateX(5px);
    }
    
    .toc ul ul {
        margin-top: 5px;
        margin-left: 15px;
        border-left: 2px dashed #e9ecef;
        padding-left: 10px;
    }
    
    .toc ul ul a {
        font-size: 0.95em;
        padding: 6px 12px 6px 25px;
    }
    
    .toc ul ul a::before {
        content: "◦";
        color: #6c757d;
    }
    
    .post-body {
        margin-bottom: 40px;
    }
    
    .image-container {
        text-align: center;
        margin: 25px 0;
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 5px;
    }
    
    .post-image {
        max-width: 100%;
        height: auto;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .image-caption {
        color: #666;
        font-size: 0.9em;
        margin-top: 10px;
        font-style: italic;
    }
    
    h2 {
        color: #333;
        border-bottom: 2px solid #eee;
        padding-bottom: 10px;
        margin-top: 40px;
        font-size: 1.8em;
    }
    
    h3 {
        color: #444;
        margin-top: 30px;
        font-size: 1.4em;
    }
    
    ul, ol {
        padding-left: 25px;
    }
    
    li {
        margin: 10px 0;
    }
    
    .reference {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 5px;
        margin-top: 40px;
        border: 1px solid #e9ecef;
    }
    
    .reference h2 {
        margin-top: 0;
        font-size: 1.5em;
        color: #333;
        border-bottom: none;
        padding-bottom: 0;
    }
    
    .post-footer {
        margin-top: 40px;
        padding-top: 20px;
        border-top: 1px solid #eee;
    }
    
    .post-navigation {
        display: flex;
        justify-content: space-between;
        margin-bottom: 20px;
    }
    
    .prev-post, .next-post {
        max-width: 45%;
    }
    
    .prev-post a, .next-post a {
        color: #007bff;
        text-decoration: none;
    }
    
    .prev-post a:hover, .next-post a:hover {
        text-decoration: underline;
    }
    
    .post-share {
        text-align: center;
        margin-top: 20px;
    }
    
    .share-link {
        display: inline-block;
        margin: 0 10px;
        color: #007bff;
        text-decoration: none;
    }
    
    .share-link:hover {
        text-decoration: underline;
    }
    
    /* 코드 블록 스타일링 */
    pre {
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 5px;
        overflow-x: auto;
        border: 1px solid #e9ecef;
    }
    
    code {
        font-family: 'Consolas', 'Monaco', monospace;
        font-size: 0.9em;
    }
    
    /* 면접 대비 팁 스타일링 */
    .interview-tip {
        background-color: #e6f7ff;
        border-left: 4px solid #1890ff;
        padding: 15px;
        margin: 20px 0;
        border-radius: 0 5px 5px 0;
    }
    
    .interview-tip p {
        margin: 0;
    }
    
    /* 반응형 디자인 */
    @media (max-width: 768px) {
        .post-content {
            padding: 15px;
        }
        
        .post-title {
            font-size: 1.8em;
        }
        
        .post-navigation {
            flex-direction: column;
        }
        
        .prev-post, .next-post {
            max-width: 100%;
            margin-bottom: 10px;
        }
    }
    </style>
    </div>
</code_block_to_apply_changes_from>
